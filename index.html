<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GymBro</title>

  <!-- Favicon: pon√© favicon.jpg en la ra√≠z -->
  <link rel="icon" type="image/jpeg" href="/favicon.jpg" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="phone">

    <!-- TOP (barra teal sticky) -->
    <div class="top">
      <div class="topbar">
        <div class="topbar-title">GymBro</div>

        <div class="topbar-actions">
          <!-- Clock -->
          <button id="clockBtn" class="user-btn" type="button" aria-label="Reloj">
            <span class="user-avatar">üïí</span>
          </button>

          <!-- Help -->
          <button id="helpBtn" class="user-btn" type="button" aria-label="Ayuda">
            <span class="user-avatar">?</span>
          </button>

          <!-- Gu√≠a -->
          <button id="guideBtn" class="user-btn" type="button" aria-label="Gu√≠a de ejercicios">
            <span class="user-avatar">üí™</span>
          </button>

          <!-- Avatar -->
          <button id="userBtn" class="user-btn" type="button" aria-label="Usuario">
            <span id="userAvatar" class="user-avatar">?</span>
          </button>
        </div>
      </div>

      <!-- Semana -->
      <div class="week-row" id="weekRow"></div>

      <button class="month-toggle" id="monthToggle" type="button">Ver mes</button>
    </div>

    <!-- VISTA PRINCIPAL -->
    <main id="viewMain">

      <!-- Mes -->
      <section class="card" id="monthView" hidden>
        <div class="month-head">
          <button class="icon-btn" id="prevMonth" type="button">‚Äπ</button>
          <div class="month-title" id="monthTitle">Mes</div>
          <button class="icon-btn" id="nextMonth" type="button">‚Ä∫</button>
        </div>

        <div class="month-grid-head">
          <div>Lu</div><div>Ma</div><div>Mi</div><div>Ju</div><div>Vi</div><div>Sa</div><div>Do</div>
        </div>

        <div class="month-grid" id="monthGrid"></div>

        <div class="month-tools">
          <div class="small-note">
            D√≠as de descanso (naranja) no cortan la racha.<br/>
            Activ√° el modo y toc√° d√≠as para marcar.
          </div>
          <button class="btn orange small" id="restModeBtn" type="button">Modo descanso: OFF</button>
        </div>

        <div class="streak">
          <div class="streak-badge">üî• <span id="streakDays">0</span> d√≠as</div>
        </div>
      </section>

      <!-- √öltimo entrenamiento -->
      <section class="card">
        <h3 class="section-title">√öltimo entrenamiento</h3>
        <div class="last-workout last-clickable" id="lastWorkout"></div>
      </section>

      <!-- Entrenos -->
      <section class="card" id="appCard">
        <div class="workouts-head">
          <h1 class="big-title">Entrenos</h1>

          <div class="workouts-actions">
            <div class="pill" id="selectedDatePill">Hoy</div>
            
            <button id="deleteWorkoutBtn" class="trash-btn" type="button" title="Eliminar entrenamiento del d√≠a">üóë</button>
          </div>
        </div>

        <div class="form">
          <div class="row row-split">
            <div class="row-left">
              <button class="dropdown" id="groupDropdownBtn" type="button">
                <span id="groupLabel">Pecho</span>
                <span class="chev">^</span>
              </button>

              <div class="dropdown-menu" id="groupMenu" hidden>
                <button type="button" data-group="Pecho">Pecho</button>
                <button type="button" data-group="Espalda">Espalda</button>
                <button type="button" data-group="Piernas">Piernas</button>
                <button type="button" data-group="Abdominales">Abdominales</button>
              </div>
            </div>

            <div class="row-right">
              <div class="pill pill-muted pill-time" id="selectedTimePill" title="Tiempo del d√≠a">‚è± --</div>
            </div>
          </div>

          <div class="table">
            <div class="thead">
              <div></div>
              <div>Cant.</div>
              <div>Repes</div>
              <div>Peso</div>
              <div></div>
            </div>

            <div class="tbody" id="exerciseList"></div>
          </div>

          <div class="actions">
            <button class="btn secondary" id="addExercise" type="button">+ Agregar ejercicio</button>
            <button class="btn primary" id="saveWorkout" type="button">Guardar</button>
          </div>

          <p class="hint">Tip: toc√° un d√≠a (semana o mes) para ver/editar ese d√≠a.</p>
        </div>
      </section>

    </main>

    <!-- VISTA RELOJ -->
    <section id="viewClock" class="clock-view" hidden>
      <div class="clock-head">
        <button id="backFromClock" class="btn secondary" type="button">‚Üê Volver</button>
      </div>

      <section class="card">
        <h2 class="section-title">Reloj</h2>

        <div class="clock-tabs">
          <button id="tabStopwatch" class="tab active" type="button">Cron√≥metro</button>
          <button id="tabTimer" class="tab" type="button">Temporizador</button>
        </div>

        <div class="time-big" id="clockDisplay">00:00.0</div>
        <div class="time-small" id="pauseDisplay" hidden>Pausa 00:00.0</div>

        <div class="small-note" style="text-align:center; margin-top:6px">
          Se guarda el tiempo del cron√≥metro en el d√≠a seleccionado.
        </div>

        <div id="timerControls" hidden>
          <div class="timer-inputs">
            <div class="timer-box">
              <div class="timer-label">Min</div>
              <input id="timerMin" class="timer-input" inputmode="numeric" placeholder="0" />
            </div>
            <div class="timer-sep">:</div>
            <div class="timer-box">
              <div class="timer-label">Seg</div>
              <input id="timerSec" class="timer-input" inputmode="numeric" placeholder="30" />
            </div>
          </div>

          <div class="preset-row">
            <button class="btn secondary small" data-preset="30" type="button">30s</button>
            <button class="btn secondary small" data-preset="60" type="button">1m</button>
            <button class="btn secondary small" data-preset="300" type="button">5m</button>
            <button class="btn secondary small" data-preset="600" type="button">10m</button>
          </div>
        </div>

        <div class="actions">
          <button class="btn secondary" id="btnStart" type="button">Iniciar</button>
          <button class="btn secondary" id="btnPause" type="button">Pausar</button>
          <button class="btn primary" id="btnStop" type="button">Detener</button>
        </div>
      </section>
    </section>

    <!-- VISTA LOGIN -->
    <section id="viewLogin" class="login-view" hidden>
      <div class="login-head">
        <button id="backToMain" class="btn secondary" type="button">‚Üê Volver</button>
      </div>

      <section class="card">
        <h2 class="section-title">Acceso</h2>

        <div class="auth-grid">
          <input id="email" class="exercise-input" placeholder="Email" type="email" autocomplete="email">
          <input id="password" class="exercise-input" placeholder="Contrase√±a" type="password" autocomplete="current-password">
          <p class="hint login-hint">M√≠nimo de caracteres 10</p>
          <button class="link-btn" id="btnResetPass" type="button">¬øOlvidaste tu contrase√±a?</button>
        </div>

        <div class="actions">
          <button class="btn primary" id="btnLogin" type="button">Entrar</button>
          <button class="btn secondary" id="btnSignup" type="button">Crear cuenta</button>
        </div>

        <div class="actions" style="margin-top:10px">
          <button class="btn secondary" id="btnLogout" type="button" hidden>Cerrar sesi√≥n</button>
        </div>

        <p class="hint" id="authStatus">No logueado</p>
      </section>
    </section>

    <!-- VISTA DETALLE ENTRENAMIENTO -->
    <section id="viewDetail" class="clock-view" hidden>
      <div class="clock-head">
        <button id="backFromDetail" class="btn secondary" type="button">‚Üê Volver</button>
      </div>

      <section class="card">
        <h2 class="section-title">Detalle del entrenamiento</h2>
        <div id="detailMeta" class="small-note" style="margin-bottom:10px"></div>
        <div id="detailTimes" class="detail-times"></div>
        <div id="detailExercises" class="detail-exercises" style="margin-top:10px"></div>
      </section>
    </section>

    <!-- VISTA GUIA -->
    <section id="viewGuide" class="guide-view" hidden>
      <div class="guide-head">
        <button id="backFromGuide" class="btn secondary" type="button">‚Üê Volver</button>
      </div>

      <section class="card">
        <h2 class="section-title">Gu√≠a de Ejercicios</h2>

        <div class="guide-toolbar">
          <input id="guideSearch" class="exercise-input" placeholder="Buscar" type="text" />
          <button class="dropdown guide-dd" id="guideGroupBtn" type="button">
            <span id="guideGroupLabel">Todos</span>
            <span class="chev">^</span>
          </button>
          <div class="dropdown-menu" id="guideGroupMenu" hidden>
            <button type="button" data-gg="Todos">Todos</button>
            <button type="button" data-gg="Pecho">Pecho</button>
            <button type="button" data-gg="Espalda">Espalda</button>
            <button type="button" data-gg="Piernas">Piernas</button>
            <button type="button" data-gg="Hombros">Hombros</button>
            <button type="button" data-gg="Brazos">Brazos</button>
            <button type="button" data-gg="Abdominales">Abdominales</button>
          </div>
        </div>

        <div id="guideList" class="guide-list"></div>
      </section>
    </section>

    <!-- HELP POPUP (ARRANCA OCULTO) -->
    <div id="helpOverlay" class="help-overlay" hidden>
      <div class="help-modal" role="dialog" aria-modal="true" aria-label="Ayuda">
        <h3 class="section-title" style="margin-bottom:8px;">C√≥mo usar la app</h3>

        <div class="help-text">
          <p><b>1)</b> Toc√° un d√≠a en la fila semanal o en el mes para ver/editar ese d√≠a.</p>
          <p><b>2)</b> Eleg√≠ el grupo (Pecho/Espalda/Piernas/Abdominales).</p>
          <p><b>3)</b> Agreg√° ejercicios: pod√©s escribir libre o usar la flecha ‚ñæ para elegir.</p>
          <p><b>4)</b> Guard√°. El d√≠a queda <span style="color:var(--green);font-weight:900;">verde</span>.</p>
          <p><b>5)</b> Modo descanso: marc√° d√≠as en <span style="color:var(--orange);font-weight:900;">naranja</span> y no cortan la racha.</p>
          <p><b>6)</b> Si te equivocaste, us√° el üóë para borrar el entrenamiento del d√≠a.</p>
          <p><b>7)</b> üïí Reloj: cron√≥metro/temporizador. El cron√≥metro se guarda en el d√≠a seleccionado.</p>
        </div>

        <div class="actions">
          <button id="helpClose" class="btn primary" type="button">Entendido</button>
        </div>
      </div>
    </div>

  </div>

  <script type="module" src="app.js"></script>
</body>
</html>